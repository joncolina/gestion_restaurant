<?php

/*================================================================================
 *--------------------------------------------------------------------------------
 *
 *	Controlador del LOGIN
 *
 *--------------------------------------------------------------------------------
================================================================================*/
class Controlador extends ControladorBase
{
    /*============================================================================
	 *
	 *	Constructor
	 *
    ============================================================================*/
    public function __construct()
    {
        if( Sesion::ValidarCliente() && !Peticion::getEsAjax() )
        {
            header("location: ".HOST."Welcome/");
            exit;
        }

        if( !Peticion::getEsAjax() )
        {
            Incluir::Template("login");
            Template::Iniciar("Iniciar sesiÃ³n");
        }
    }
    
    /*============================================================================
	 *
	 *	Destructor
	 *
    ============================================================================*/
    public function __destruct()
    {
        if(!Peticion::getEsAjax()) {
            Template::Finalizar();
        }
    }

    /*============================================================================
	 *
	 *	
	 *
    ============================================================================*/
    public function index()
    {
        $this->Vista("login/index");
        $this->Javascript("login/index");
    }

    /*============================================================================
	 *
	 *	
	 *
    ============================================================================*/
    public function acceder()
    {
        $this->AJAX("login/acceder");
    }
}