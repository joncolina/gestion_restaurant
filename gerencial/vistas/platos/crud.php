<?php
/*================================================================================
 *--------------------------------------------------------------------------------
 *
 *	CRUD DE PLATOS
 *
 *--------------------------------------------------------------------------------
================================================================================*/

/*================================================================================
 * Tomamos los parametros
================================================================================*/
 $accion = Input::POST("accion");
 $objRestaurant = Sesion::getRestaurant();

/*================================================================================
 * 
================================================================================*/
switch($accion)
{
	case "CONSULTAR":
		$buscar = Input::POST("buscar", FALSE);
		if($buscar === FALSE)
		{
			$platillos = PlatillosModel::Listado();
        }
        else
        {
            $platillos = PlatillosModel::Listado( $buscar );
		}
		
		$respuesta['data'] = $platillos;
	break;

	default:
		throw new Exception("Accion invalida");
	break;
}

/*================================================================================
 * 
================================================================================*/
echo json_encode($respuesta);