<?php
/*================================================================================
 *--------------------------------------------------------------------------------
 *
 *	Inicio de sesi칩n
 *
 *--------------------------------------------------------------------------------
================================================================================*/

/*================================================================================
 * Tomamos los parametros
================================================================================*/
$usuario = Input::POST("usuario");
$clave = Input::POST("clave");

/*================================================================================
 * Validamos el usuario y la contrase침a
================================================================================*/
$objUsuario = new UsuarioModel($usuario);

if($objUsuario->getClave() != $clave) {
    throw new Exception("Contrase침a incorrecta");
}

/*================================================================================
 * Iniciamos la sesi칩n
================================================================================*/
Sesion::Crear($objUsuario->getIdRestaurant(), $objUsuario->getUsuario());

/*================================================================================
 * Retornamos la salida
================================================================================*/
echo json_encode( $respuesta );